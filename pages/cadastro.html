<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../styles/login.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"/>
  </head>

  <body class="body">
    <div class="container">
      <div class="wrapper">
        <div class="row" style="text-align: center;">
            <div class="col-2" style="padding-right: 85vw;">
                <a  href="login.html"><ion-icon name="arrow-back" style="color: white; font-size: 30px;"></ion-icon></a>
           </div>
        </div>
        <img class="imagem" src="../images/logo-on-branco.png">
        <h1 style="color:white;" align="center">CADASTRO</h1>
        <form name="cadastrar" method="post" enctype="multipart/form-data">
          <div class="row">
            <input class="campoTexto" type="text" placeholder="Nome completo" aria-label="default input example" name="nome" id="nome" required>
          </div>
          <div class="row">
            <input class="campoTexto" type="email" placeholder="Email" aria-label="default input example" name="email" id="email" required>
           </div>
            <div class="row">
                <input class="campoTexto" type="phone" placeholder="Telefone/Celular" aria-label="default input example" name="celular" id="celular" maxlenght="11" required>
            </div>
            <div class="row">
                <input class="campoTexto" type="text" placeholder="CEP" aria-label="default input example" name="cep" id="cep" maxlenght="6" required>
            </div>
            <div class="row">
                <input class="campoTexto" type="text" placeholder="Rua" aria-label="default input example" name="rua" id="rua" required>
            </div>
            <div class="row">
                <input class="campoTexto" type="number" placeholder="Número" aria-label="default input example" name="numero" id="numero" required>
            </div>
            <div class="row">
                <input class="campoTexto" type="text" placeholder="Bairro" aria-label="default input example" name="bairro" id="bairro" required>
            </div>
            <div class="row">
                <input class="campoTexto" type="text" placeholder="Cidade" aria-label="default input example" name="cidade" id="cidade" required>
            </div>
            <div class="row">
                <input class="campoTexto" type="text" placeholder="Estado" aria-label="default input example" name="uf" id="uf" required>
            </div>
            <div class="row">
                <input class="campoTexto" type="text" placeholder="Defina um usuário" aria-label="default input example" name="usuario" id="usuario" required>
            </div>
            <div class="row">
                <i><img class="icones" src="https://cdn-icons-png.flaticon.com/512/3758/3758099.png"> </i>
                <input class="campoTexto" id="senha" type="password" placeholder="Defina uma senha" name="senha" style="padding-left: 60px;" required>
            </div>
        
            <div class="row">
            <p><label style="color: white">Selecione uma imagem de perfil:</label>
            <input type="file" name="arquivo" id="imagem" onchange="previewImagem()" class="campoTexto" style="background: white; padding:2%"></p>
            </div><br>
            <img class="card-img-top" id="img-preview"  style='width: 70vw; border-radius: 10px' src="../icons/img-white.png">

          <div class="row button"><br>
            <a href="feed.html"><input type="button" value="Cadastrar" href="feed.html"></a>
          </div>
          <br>
          <div class="linkao" style="color: aliceblue;">Já tem um cadastro? <br>
            <a href="login.html" class="linkaum" style="color: aliceblue;">Entre na sua conta</a></div>
        </form>
      </div>
    </div>
    
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.0/jquery.mask.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <!--ALERTA
    <script>
    function cadastrado(){
        alert("Cadastro efetuado com sucesso!\n<a href="login.php" class="linkaum" style="color: aliceblue;">ENTRAR</a>");
    }
    </script>-->

    <!-- MÁSCARAS DE CAMPOS-->
    <script>
        $(document).ready(function(){
            $('#celular').mask('(00)00000-0000');
            $('#cep').mask('00000-000');
        });
    </script>

<!--PREVIEW DA IMAGEM-->
<script scr="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
            <script>
                function previewImagem(){
                    var imagem = document.querySelector('input[name=arquivo]').files[0];
                    var preview = document.querySelector('img[id=img-preview]');
                    var reader = new FileReader();
                    reader.onloadend = function(){
                        preview.src = reader.result;
                    }
                    if(imagem){
                        reader.readAsDataURL(imagem);
                    }else{
                        preview.src="";
                    }
                }
            </script>

<!-- BUSCA CEP -->
        
        <script>
        $(document).ready(function() {

            function limpa_formulário_cep() {
                // Limpa valores do formulário de cep.
                $("#rua").val("");
                $("#bairro").val("");
                $("#cidade").val("");
                $("#uf").val("");
                //$("#ibge").val("");
            }
            
            //Quando o campo cep perde o foco.
            $("#cep").blur(function() {

                //Nova variável "cep" somente com dígitos.
                var cep = $(this).val().replace(/\D/g, '');

                //Verifica se campo cep possui valor informado.
                if (cep != "") {

                    //Expressão regular para validar o CEP.
                    var validacep = /^[0-9]{8}$/;

                    //Valida o formato do CEP.
                    if(validacep.test(cep)) {

                        //Preenche os campos com "..." enquanto consulta webservice.
                        $("#rua").val("carregando...");
                        $("#bairro").val("carregando...");
                        $("#cidade").val("carregando...");
                        $("#uf").val("carregando...");
                        //$("#ibge").val("carregando...");

                        //Consulta o webservice viacep.com.br/
                        $.getJSON("https://viacep.com.br/ws/"+ cep +"/json/?callback=?", function(dados) {

                            if (!("erro" in dados)) {
                                //Atualiza os campos com os valores da consulta.
                                $("#rua").val(dados.logradouro);
                                $("#bairro").val(dados.bairro);
                                $("#cidade").val(dados.localidade);
                                $("#uf").val(dados.uf);
                                //$("#ibge").val(dados.ibge);
                            } //end if.
                            else {
                                //CEP pesquisado não foi encontrado.
                                limpa_formulário_cep();
                                alert("CEP não encontrado.");
                            }
                        });
                    } //end if.
                    else {
                        //cep é inválido.
                        limpa_formulário_cep();
                        alert("Formato de CEP inválido.");
                    }
                } //end if.
                else {
                    //cep sem valor, limpa formulário.
                    limpa_formulário_cep();
                }
            });
        });
        </script>

  </body>
</html>
